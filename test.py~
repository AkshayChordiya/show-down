import os
from showDown import showDown
print ' SOFTWARE_NAME ver 1.0 '
print ' Created by Narendra Pal and Shashank Singh'
print '#####################################################################'
def main() :
    data = [None,None]*10
    user = showDown()
    cmd = raw_input('\n>> ')
    cmd = " ".join(cmd.split())
    data = cmd.split('-')
    options = {}
    command = data[0].strip().lower()
    for row in data :
        if row.find(' ') != -1:
            option = row.split(' ')
            if len(option) >= 2:
                options['%s'%option[0]] = option[1]
            elif len(option) >= 1:
                options['%s'%option[0]] = ''
    if command == 'proxy' :
        if 'p' in options :
            user.setproxy(options['p'])
        else :
            print 'Error : Set proxy using -p switch'
    elif command == 'exit':
        os.system('setterm -cursor on')
        exit()
    elif command == 'download':
        if 'm' in options :
            if 'f' in options and 'latest' in options:
                if options['f'].lower() == 'mp4' or options['f'].lower() == '3gp' :
                    user.downloadLatest(options['m'] , options['f'] )
                else :
                    print 'Error : Format not supported. Only mp4 and 3gp supported.'
            elif 'latest' in options :
                user.downloadLatest(options['m'] , "mp4" )
                         
    else :
         print 'Invalid command : %s' %(data[0])
    main()
             

main()

